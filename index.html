<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>
        web sandbox | scribbleX
    </title>

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/scrollbar.css">

    
    <script src="js/libraries/jQuery.js"></script>
    <script src="js/libraries/split.js"></script>
    <script src="js/ace-builds-master/src/ace.js"></script>
    <script src="js/ace-builds-master/src/ext-language_tools.js"></script>

    <script src="js/ace-builds-master/src/mode-javascript.js"></script>
    
    
    <script src="js/src/init.js"></script>
    <!--<script src="js/src/builder_gui.js"></script>-->
</head>
<body onload="init();" onresize="init();">
    <div id="main_container">
        <div id="top_header">
            &nbsp;
            <img src="assets/logo/scribble.png" alt="scribbleX"
                style="height: 100%; width: 185px; cursor: pointer;"
            >
        </div>
        <div id="appContainer">
            <div id="leftContainer"></div>

            <div id="centerContainer"></div>

            <div id="center_right_appContainer_gutter"></div>

            <div id="rightContainer">
                <div id="top_appContainer">
                    <div class="splitView_Tools">
                        <div id="toolsPanel">
                            <div id="toolsPanel_header"></div>
                            <div id="toolsPanel_container" style="color: white;">
                                <br>
                                <button id="GUIEditor_Button">GUI Editor</button>
                                <!-- onclick="activateGUIEditor();" -->
                                <span id="GUIEditor_stat">OFF</span>
                                <!--
                                <script>
                                    document.getElementById("GUIEditor_Button").addEventListener('click', ()=>{
                                        activateGUIEditor();
                                    });
                                </script>
                                -->
                                <br>
                                <br>
                                <label for="elemHeihgt">Height</label>
                                <input type="number" name="" id="elemHeight" step="0.01" value="">
                                <br>
                                <label for="elemWidth">Width</label>
                                <input type="number" id="elemWidth" step="0.01" value="">
                                <br>
                                <br>
                                <span>Background Color: </span><input type="color" name="" id="elemBGC" value="">
                                <br>
                                <span>Font Color: </span><input type="color" name="" id="elemFC" value="">
                            </div>
                            <div id="toolsPanel_footer"></div>
                        </div>
                        <div id="previewContainer">
                            <div id="searchBarBrowser">
                                &nbsp;&nbsp;
                                <img src="assets/icons/1647373505088.png" alt=""
                                    style="height: 100%;
                                            display: inline-block;
                                            cursor: pointer;"
                                title="Reload Page" onclick="run();">
                            </div>
                            <span id="previewContainer_text">
                                <br>
                                <br>
                                <br>
                                <br>
                                <br>
                                <center>
                                    <img src="assets/logo/scribble.png" alt="" style="height: 80; width: 250px;">
                                    <br>
                                    <span>
                                        Preview Frame
                                    </span>
                                </center>
                            </span>
                            <iframe frameborder="0" hspace="0" vspace="0" marginheight="0" marginwidth="0" style="display: none;" id="previewFrame" class="previewFrame"></iframe>
                            <script>
                                setInterval(run_gui, 75);

                                var temp_storage = null;

                                function run_gui(){
                                    console.log("Running...")
                                    document.getElementById("previewFrame").contentWindow.document.addEventListener('mouseover', (event)=>{
                                        event.target.style.outline = "thin solid #0000FF";
                                    });
                                    document.getElementById("previewFrame").contentWindow.document.addEventListener('mouseout', (event)=>{
                                        event.target.style.outline = "thin none #0000FF";
                                    });

                                    document.getElementById("previewFrame").contentWindow.document.addEventListener('click', (event)=>{
                                        console.log(window.getComputedStyle(event.target).backgroundColor);
                                        var abc = window.getComputedStyle(event.target).backgroundColor;
                                        abc = abc.replace("rgb(", "");
                                        abc = abc.replace(")", "");
                                        var abc_array = abc.split(', ');
                                        //alert(abc_array[0]);
                                        //alert(abc_array[1]);
                                        //alert(abc_array[2]);

                                        console.log("RGB: " + rgbToHex(parseInt(abc_array[0]), parseInt(abc_array[1]), parseInt(abc_array[2])));
                                        document.getElementById("elemBGC").value = rgbToHex(parseInt(abc_array[0]), parseInt(abc_array[1]), parseInt(abc_array[2]));

                                        temp_storage = event.target;
                                    });

                                    var getChangeBGC = document.getElementById("elemBGC").value;
                                    temp_storage.style.backgroundColor = getChangeBGC;
                                }

                                function componentToHex(c) {
                                    var hex = c.toString(16);
                                    return hex.length == 1 ? "0" + hex : hex;
                                }

                                function rgbToHex(r, g, b) {
                                    return "#" + componentToHex(r) + componentToHex(g) + componentToHex(b);
                                }
                            </script>
                        </div>
                    </div>
                </div>

                <div id="appContainer_innerMargin"></div>

                <div id="bottom_appContainer" onresize="resizeAppFrames();">
                    <div class="splitView_Editors">
                        <div id="htmlContainer" class="splitEditor">
                            <div id="htmlHeader" class="editor_header">
                                <span style="color: red; font-size: 18px;">
                                    &nbsp;&nbsp;html.
                                </span>
                            </div>
                            <div id="htmlEditorContainer" class="editorContainer">
                                <div id="htmlEditorChild" class="EditorChild"></div>
                            </div>
                        </div>
                        <div id="cssContainer" class="splitEditor">
                            <div id="cssHeader" class="editor_header">
                                <span style="color: blue; font-size: 18px;">
                                    &nbsp;&nbsp;css.
                                </span>
                            </div>
                            <div id="cssEditorContainer" class="editorContainer">
                                <div id="cssEditorChild" class="EditorChild"></div>
                            </div>
                        </div>
                        <div id="jsContainer" class="splitEditor">
                            <div id="jsHeader" class="editor_header">
                                <span style="color: yellow; font-size: 18px;">
                                    &nbsp;&nbsp;js.
                                </span>
                            </div>
                            <div id="jsEditorContainer" class="editorContainer jsEditorContainer">
                                <div id="jsEditorChild" class="EditorChild"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="bottom_footer"></div>
    </div>

    <script src="js/src/script.js"></script>
    <script src="js/src/renderContent.js"></script>
</body>
</html>